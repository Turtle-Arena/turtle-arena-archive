Turtle Arena TODO/BUGS file

Bugs that have found that have not been fixed yet, and things that should to be done (or that I'd like to be done...).

Do "play testing" to find bugs and to find things to change, improve, and add.
	I need to remind myself as I end up doing alot of code/data changes with no or little testing.

== 0.2 (Beta) ==
* Add missing sounds
* New Melee swing sound effects?
* Finish animating raph_v9.mm3d
* Fix bots to damage players with melee weapons

== engine ==

// Weapons! (and attacking)
[todo] Add code so that Nunchuk can spin when standing? When not spining have gravity, like MISSIONPACK held CTF flag?

STARTED ( TMNTWEAPSYS ): [todo] Support Quake III: Team Arena weapon features via weapon scripting

[todo] Spawn Ammo items from weaponinfo.txt
: If I make it so weapon/ammo items are in text files, should I have all items in iteminfo.txt (and *.item) too?...

[todo] Have weapons be seperate entities (ET_WEAPON) from the player,
		allowing one rendering function that can be use for all weapons,
		and do collision so that weapons don't go into the wall. (And bounce back if you hit the wall?)
[todo-after-above] Add a option to weapon group info to hold a weapon upside-down.

[todo] Weapon trails; Every-so-often while attacking send EV_TRAIL_POS with the clientnum, trailnum,
	and trail base and top origins.
		When the trail end send EV_TRAIL_END clientnum and trailnum, so the next trail doesn't connect to last trail.
		When rendering create polygons connecting the trail.
		Each client think move the base of the trail up, and if (base[Z] >= top[Z]) remove this trail base/top

[todo] Attack movement flags. Stop, cut speed in half, double speed, turn right?, etc.

[todo] Remove code for tag_hand_primary/secondary and just use tag_weapon/flag ?
: Logic-wise tag_hand_* make more sense, but I still support tag_weapon/flag (My players use tag_weapon/flag ...)

[todo] Improve bot_shareditem_t weight code (Currently only supports constant weights, add support to be weight 0 if INVENTORY_X >= 1)

[todo] Add Bow and Arrow? (Like LoZ:TP) { Camera looks over player's shoulder }
: ("Charge up" weapon (and animate player), when fully charged fire projectile (or fire on release weaponFlag?) )

// non-weapon or attacking...

[todo] Add optional run animations for torso

[todo] Finish new path system "g_paths.c" for movers (trains), NPCs?, (and hopefully players; cutscenes?, NiGHTS mode!)

[todo] Support models/players/NAME/animsounds.cfg used in STV:Elite Force (SP?) (Also used in Jedi Knight 2) ?
: Started see bg_sound_t and Sounds_Parse; it is similar to animsounds, but different.
:    If currently doesn't load sounds and is for NPC and misc objects only.

[todo] True Single Player mode with NPCs and all that.

[todo] Savegames for single player

[todo] Pull grapple back to player before removing entity like LoZ: TP?

[bug] When players have PW_FLASHING they can walk though Obelisks/misc_objects.
: When PW_FLASHING wears off while in a solid, they are killed. Otherwise they would be stuck.

[todo] Have shurikens do damage while they are in the wall/ground?

[todo] Add misc_bubbles entity.

[todo] Add misc_dripper entity.

[todo] NiGHTS [into Dreams...] mode (Maybe instead NiGHTS use a dragon-form like in TMNT 2003 Season 5, Dragons are sort of like Nightmarens...)

[todo] 'New' gametypes; Last Man Standing, King of the Hill, and Keepaway? -- Based of there forms in TMNT: Mutant Melee.

[todo] Remake UI/HUD using Quake III: Team Arena menu scripting?

[todo] http://code.google.com/p/oax/wiki/Dynamic_QVM_Memory_Allocation

[todo] Word filter http://code.google.com/p/sgfork/source/detail?r=5

[todo] Rewrite single player post-game data saving.
: Have it be more like in Team Arena then Q3, using ".game" files instead of cvars in config.
: Or one single data file with all of the sp data (Or SP data files -like SRB2 2.0)

[todo] NPRQuake has some awesome rendering options... (If I wanted it to look like a comic book it might help.)

[todo] Support focusing on 4 players with one camera, for a local 4 player game (splitscreen would be optional).

[todo] Support bots using func_use (use via holdable item button)

[todo] Show in cgame that player can use func_use if they press 'use holdable' button

[todo] Allow SP player select when setting up a custom game.

[todo] Show "spmodel" instead of "name" next to "human" in custom game.
: Change "spmodel" by clicking it?

[todo] Have a completed game menu/screen (Instead of just dropping the player back to the main menu with no message, it could leaving the player wondering why.)

[todo] framebuffer object support? https://bugzilla.icculus.org/show_bug.cgi?id=3422

[todo] Update MISSIONPACK ui? http://svn.icculus.org/quake3/trunk/code/q3_ui/ui_video.c?r1=390&r2=1161

[todo] Lua Scripting? (For NPCs?) http://xreal.svn.sourceforge.net/viewvc/xreal/trunk/xreal/base/code/game/g_lua.c?view=markup

[todo] Check if grappling hook can be hooked to a mover and move the grapple point

// The below are somewhat long...

[todo] Update camera system.
: DONE: Controls for moving chase cam (left, right, up, down)
: (NiGHTS: Journey of Dreams) Move camera if holding 'z' and move analog stick, can't look around while moving
BETTER(not done?): When moving the camera around the player, focus on the player. (Like in NiGHTS: Journey of Dreams)

STARTED(TMNT // LOCKON): [todo] When attacking a player (or NPC) focus on them?  (Like LoZ:TP 'z' target lock-on)
: [bug] When higher then target to focus on it gets all messed up.

[todo] Merge Quake3 and Team Arena bot chat systems; One chat system to rule them all!
* Problem: Team Arena adds voice chats, which are only used in gametypes >= GT_TEAM. There was also players that could only be used in gametypes >= GT_TEAM that did not have q3 chats. Leaving q3 players for FFA and Duel (with there normal q3 chats) (The TA players have no q3 chats and the players can't be used in q3, q3 players can't be used in gametypes >= GT_TEAM and have no voice chats.) So Team Arena had two seperate chat systems. Turtle Arena supports Q3 and Team Arena players in all gametypes and allows merged Q3/TA players. But in the gametypes >= GT_TEAM ONLY the TA voice chats are used. And like wise in non-team gametypes only "Q3 chats" are used.
* Fix: Replace Q3 bot chat system with Team Arena voice chat system (I allow 64 voice chat files, so we could allow bots to have custom chats)
** Allow sound filenames in Q3 chat files?
** Everywhere that passes a "Q3 chat" name use voice chats instead.
** Set voicechat filename and soundpath in "head.cfg" in player head directory. Head animations would go in it as well.
*** Or Load it from animation.cfg and allow loading 2 animation.cfg files for each player, one for body and one for head.

[todo] Add MD5 model support (MD5 use single model and skeleton, the animations can move any part of the model, and multiple animations can animate at the same time.)
[todo-after-above] Rerig and reanimate players in Blender for MD5

[todo] Finish misc_object, with animation, triggering, taking-damage, and dieing.
: Maybe with spawning a item on death, respawning, and pushable options.
: I will need some test models (with animations)


=== Testing! ===
DONE(untested)?: Melee combo system, with different animations for each attack? (TMNTWEAPSYS)

[todo] Test/use the "noise" and "random" waveforms that I copied from IOSTVEF

[todo] Check if "TMNTWEAPSYS // BOT_ITEM_INFOS" breaks compatibility with q3 mods.

=== Don't do? (Dead Ideas?) ===
[todo] Feet tags, for attack checking? And/or for attaching hoverboard to player?

[todo] Use vertex lighting on misc_model entities? http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3049
: ZTM: I could add a option so use vertex lighting, but normally use lightmapping?
:   OR Just use misc_object as they use vertex lighting.
:        Misc_model is a way to insert a *static* model, so lightmap like the level.

WONTFIX?: [bug/todo] First Person weapon doesn't draw correctly (It draws too near to the screen)
			This happens due to changing the field of view to 70 (Q3 uses 90)

[todo] Have Announcer use "voice chats" so that the text is printed as well as playing a sound.
[todo] Allow multiple Announcers? Have a cg_announcer cvar { "none", "male", "female", etc } to control voice chat file.

[todo after adding ET_WEAPON] "Weapon Surface flags" so metal rubbing on metal makes sparks and stuff?
: Guns too? (Running next to a wall and gun is touching wall make sparks and wall marks O.O; )

[todo] Throw shurikens with secondary hand, so can't with CTF flag? Have only one attack animation.
[todo if above is done] Must put secondary weapon away to throw shuriken, then get it back put?
: So Don can throw shurikens sooner than Leo/Raph/Mike?

[todo] Per-triangle collision for player damage, use lowest LOD model or have a model special for collision?
: Using a special model for collision we could use group names to set what part of player is hit,
:   so shell takes less damage, banndana takes no damage, etc. We could say where a player got hit like Smokin' Guns?...

[todo] Backport TMNTWEAPSYS_EX's weapon dropping to TMNTWEAPSYS?

=== Done? ===
DONE?: TMNTWEAPSYS weapon_random entity that spawns a random weapon each time the weapon respawns
		: Only spawn weapons with a classname, have flags for melee and gun weapon spawning.
[todo] ...also allow list of weapons in message field?

DONE: Allow mover entites to be killed (set health in entity)
[todo] Spawn glass and/or other materials on death of mover entities.

DONE-ish?: Use freetype for TTF rendering, instead of q3font.exe's output files of a TTF. (Almost completed in Xreal)
: Well I no longer need q3font.exe, as copied/fixed the freetype code (Also support in console and hud consoles lines)
:   But most in game text does not support TTF.

WORKING(NotDone?): Have bots use shurikens. (They are used *to much* now.)

DONE: Have player fade out when dead instead of BodySink
: Does it look good?


== BSPC ==
// BSPC is the map .bsp to .aas (Arena Awareness System) compiler. The aas file is used by bots.
[bug] Fix compiling with cross-make-mingw.sh

[todo] Recompile outdated win32 BSPC, extras/bspc/bspc.x86.exe


== Master Server ==
[todo] Should dpmaster be modified for Turtle Arena? (It should work as is...)


== Data ==
DONE: Replace all of the data (that I need) in Demo Quake3's pak0.pk3
		(Also it appears that the full version doesn't add data "for the engine",
			just players, maps, and textures, (etc?))

[todo] Add announcer sound files (That sound like the Gyoji of the Battle Nexus?)

[todo] Add models for Daisho weapon group (See tmnt-needed-files.txt)

[todo] Have a intro video (video/intro.[roq|ogm]) before the menu.

[todo] Have shurikens in all multi-player maps? (Having them be part of standard gameplay?)

=== Players ===
[todo] Raph and Casey really need to /swing/ the melee weapons.
: Casey's swinging isn't that bad, but Raph's swinging sure is.

==== Raph =====
[todo] Animate raph_v9.mm3d

==== Casey =====
[todo] Finish Casey Jones model mesh
: Casey's feet look ugly (fix them), and allow the toes to bend.

[todo] Add Casey bot chats.


== Misfit Model 3D ==
: Stuff I'd like to do to the MD3 part of MM3D...

[todo] Allow per-animation "Loop" setting (Currently hardcoded list)
: Have the "Loop" in the animation view set the loop for the animation, currently "Loop" isn't per animation however...

[bug] After exporting a player I have to open, touch, and save the upper and head models (with no change) to fix model lighting.

[todo] Finish MDR support for Misfit Model 3D.

[todo] Export lower LODs of MD3 models (head_1.md3, head_2.md3), and include lower LODs in MDR models
: Maybe use gts.sourceforge.net to generate lower LODs? The gallery shows its possible. Somehow.

