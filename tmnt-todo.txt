TMNT Arena TODO file

TODO: Clean up this file. Move doc stuff to its own file.

http://i39.tinypic.com/33fep9y.jpg

TODO: Get code/ogg and code/vobis from XReal? (Ogg vorbis works but should the code for it be in are source?)

TODO: Use freetype for TTF rendering, instead of q3font.exe's output files of a TTF. (Done in Xreal)

Support STV:EF (SP?) (Also used in JK2) models/players/name/animsounds.cfg?

Finish writing MDR plugin for Misfit Model 3D

Add a bg_misc.h header and move the stuff from bg_public.h to it that the server doesn't need.
: Like g_public.h and g_local.h, only bg_misc.h will include bg_public.h and be included in game, cgame, and ui,
:      while just bg_public.h is included in server.h

Merge Quake3 and Team Arena bot chat system;
* Problem: Team Arena adds voice chats, which are only used in gametypes >= GT_TEAM. There was also players that could only be used in gametypes >= GT_TEAM that did not have q3 chats. Leaving q3 players for FFA and Duel (with there normal q3 chats) (The TA players have no q3 chats and the players can't be used in q3, q3 players can't be used in gametypes >= GT_TEAM and have no voice chats.) So Team Arena had two seperate chat systems. TMNT Arena supports Q3 and Team Arena players in all gametypes and allows merged Q3/TA players. But in the gametypes >= GT_TEAM ONLY the TA voice chats are used.
* Fix: Merge systems, allow sound filenames in Q3 chat files.

Weapons Info System redesin;
: Reduce weapontype_t enum (WT_NONE, WT_GAUNTLET (cross of gun and melee), WT_GUN, WT_GRAPPLE (Reduce hardcoded ness?), WT_MELEE). Have "weaponinfo" (weapontype, mod, damage, trail, sounds, bit-flags, "blades" (points of damage/trail), wallmark, wallhit sounds) and "weapongroup" (pointers to "weaponinfo"s, animations, animations when holding CTF flag, combo/chain limits, ???). "weapon_t" enum would index "weapon group"

Learn more of Smokin' Guns ".hit" format used for player models?

== General ==
General things that need to be done.

=== Demo 1 ===
* Finish a player model
* Add models for weapons and items (Most pickup items (besides weapons) have models now)

* Review the chages in Meld (Checking for errors)?

=== Demo 1 or later ===
* Use per-player bounding box (playercfg.bbmins/playercfg.maxs) when checking for telefrag (In SpotWouldTelefrag)
* Use vertex lighting on misc_model entities? http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3049

* Add music
* Add sounds

=== Future ===
: Ideas for things to maybe do in the future, shouldn't try to do for demo 1.

* Rewrite CTF flag rendering so that there is one flag model with three skins?
** This may help http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3173
** and this      http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3202

* Add support for .ogm video playback (Xreal copied from World of Padman engine)
** This may help http://apps.sourceforge.net/trac/xreal/changeset/3297
** and this      http://apps.sourceforge.net/trac/xreal/changeset/3300

* NPCs
* New camera system : merge CAMERASCRIPT with realtime camera.
* Savegames for single player / offline play.

== To Be Remove ==
=== Excellent Award ===
:Excellent award? given when two kills happen close together by one attacker, I don't really like it.

firstExcellentSound
excellentSound
medalExcellent
PERS_EXCELLENT_COUNT
EF_AWARD_EXCELLENT
AWARD_EXCELLENT

== Players ==
This was said about the 2003 series first console game.
    Leonardo
    Strength: Best attack accuracy.
    Weakness:-Cannot dodge attacks as well as everyone else.

    Donatello
    Strength: Longest attack reach.
    Weakness: Slowest.

    Michaelangelo
    Strength: Fastest
    Weakness: Lowest attack accuracy

    Raphael
    Strength: Most powerful of all the turtles.
    Weakness: Shortest attack reach.

== Player Models ==
List of tags by models.

head.md3
+ tag_head
//+tag_bandana -- TODO: Bandanas, how hard can it be right?... yeah. Right.

upper.md3
+ tag_torso
+ tag_head
+ tag_hand_primary   -- Player's right hand. Used for holding guns/melee weapons.
+ tag_hand_secondary -- Player's left hand. Used for holding CTF flags/melee weapons.
// Hold default weapon of the player when not in use.
+ tag_wp_away_primary
+ tag_wp_away_secondary
// Should I just use tag_weapon / tag_flag so that TMNT skins can be used in Quake 3 and Team arena?...
+ tag_weapon (for Quake 3/STV:EF capatibility) -- Use like tag_hand_primary
+ tag_flag   (for Team Arena capatibility) -- Use like tag_hand_secondary
//+ tag_lhand  ?? (for Elite Force capatibility??) -- Use like tag_hand_secondary??

lower.md3
+ tag_legs
//+ tag_foot_left
//+ tag_foot_right

Melee Weapon attack animations.
      TMNT Mutant Melee: sword type, axe/hammer type, gun type (Already in Q3...)
      TMNT Arena: TMNT:MM types plus Bo, Nunchuk, and more sword types

=== Real Melee Attacking (Done, still need to fix ded server however) ===
If we move LerpFrame stuff from cg/ui to bg, we would have the animations correct
	but we would still need the model (which can't be used in ded server mode) to find the tag locations,
	so we would need to load the tags from the models, without using the render.

Move lerpFrame_t to bg_public.h
Copy CG_RunLerpFrame CG_SetLerpFrameAnimation and CG_ClearLerpFrame to bg as BG_*
Disable CG_RunLerpFrame CG_SetLerpFrameAnimation and CG_ClearLerpFrame
Disable UI_RunLerpFrame UI_SetLerpFrameAnimation
Add "lerpFrame_t legs, torso;" to gclient_s
Run the gclient_s legs/torso lerp in game

Side Effects:
* Use more net bandwith; If lerpFrame was move to bg, the torso and legs would have to be sent across
	the network as only the "local player" is run though Pmove().
** fix -- Leave legs/torso/flag to playerEntity_t, but use BG_* lerp funtions.

* Use more memory (Loading player tags seperate from model, and with model)
** fix: Non-ded could use models, while ded has its own tag loading code.
*** Or I could say "i don't care" and just have one way of loading the tags [without model]...

LerpFrame stuff:
lerpFrame_t
CG_RunLerpFrame CG_SetLerpFrameAnimation and CG_ClearLerpFrame
UI_RunLerpFrame UI_SetLerpFrameAnimation

== Camera ==
The Q3 camera system needs to be rewritten, third person with be the default camera so it needs to work better.
The new camera system should be desined to;
* work with Analog Control in online/offline play.
* run "scripts", I hope to remove the need for external textfiles from the map.
* Possible "base" on ZCam? (--Non-GPL...) It is a enhanced spectator camera.
* Support focusing on 4 players with one camera, for a local 4 player game (splitscreen would be optional).
* more.

=== Analog Control ===
TODO Analog mode:
Analog should work in Netplay as well as offline. Should analog be client side or server side?,
	clients can predicted it as well (if on server side)?

cg_thirdPersonAnalog
cg_thirdPersonAngle - Modify while cg_thirdPersonAnalog is 1.
cg_thirdPersonRange
cg.predictedPlayerState.viewheight?
See also: CL_CreateCmd

== Announcer ==
Vote Gyoji of the Battle Nexus for TMNT Arena Announcer!

== MISSIONPACK ==
Use parts of MISSIONPACK
ui scripting, 1 flag CTF, and better team play stuff?
Use redFlagBaseModel and blueFlagBaseModel?

DONE: Use MISSIONPACK's new CTF flag code, flagPoleModel, flagFlapModel, and redFlagFlapSkin
DONE (Code is done, Raph has no skins for it): Per-Team skins in team play.

=== Menu ===
Use MISSIONPACK scripted menus.
See tmnt-menus.txt

=== HUD ===
Use MISSIONPACK scripted hud.

== Objects ==
TODO: Make more mapobjects;

Trees, bushes, flowers, tall-grasses,
Traffic barrel-thingy? Traffic "saw-horse"-thingy
Firehydroant, lightpole,
street-signs (one-way, 3rd street, Stop, Yield, people crossing, speed limit)

Most of the mapobjects should be breakable... time to make a new entity type.

misc_object
Style 1: Option to animate and trigger "target" on touch,
Style 2: Damageable and have a "paintarget" and trigger "target" on death.
			TODO: Also option to spawn item on death, and option to respawn.

== Weapons ==
TMNTWEAPSYS is the main changes to Q3's weapon system.
* Adds melee weapon system
* Adds default weapon (Currently limited to one default weapon, Guntlet. (Guns as default doesn't work) )
** Pointless in stock Q3...
* It may do other things to Q3 weapon system, but I don't remember.

TMNTWEAPSYS2 is weapon code that adds on to TMNTWEAPSYS, making it more complete (But not something for Quake3).
* Each client can hold only 2 weapons (instead of 16), one is the default and the other is a pickup weapon, if holding a pickup weapon the default weapon can't be used.
* Remove 16 total weapons limit.
* Picked up weapons can be dropped via a button to use the default weapon again.
* Disables ammo warnings (AMMO_WARNINGS), TODO: Fix CG_CheckAmmo to support TMNTWEAPSYS2?

DONE: TMNTWEAPSYS2: If PW_AMMOREGEN don't auto drop guns with no ammo.

TMNTWEAPONS Replace/remove Q3/TA's weapons with TMNT weapons.

TMNTHOLDSYS Allow up to 16 holdable items to be held at once
TMNTHOLDSYS2 Allows players to change to any holdable, not just the next.
TMNTHOLDSYS2BOT Allow Bots to use holdables, when TMNTHOLDSYS is defined, was part of TMNTHOLDSYS2

TMNTHOLDABLE Adds shurikens (Which are holdable items) and disables some Q3/TA holdables.
Q3's weapons have "_hand.md3" models for each gun, I currently use one of OpenArena for all guns.

TODO: Weapon dirs;
1: /models/players/*playermodel*/weapondir/weaponname.md3
2: /models/weapons2/weapondir/weaponname.md3

Player Animations;
Have TORSO_* and LEGS_*? for each attack.
If the LEGS_* startframe is -1 don't change animation.

Weapon Types;
Add more stock weapons/types?
Ultimate Ninja's claw?... (WT_GAUNTLET?)
Bow and Arrow? (Like LOZ: TP...?) { Camera looks over players shoulder }

== Misc ==
DONE: Replace all of the data (that I need) in Demo Quake3's pak0.pk3
		(Also it appears that the full version doesn't add data I need, just players, maps, and textures, (other?))

DONE: Default cg_fov to 70  (old 90)
** (Need to fix first person weapon offset?)

DONE: Default cg_thirdPersonRange to 70 (old 40)

Have a intro video (video/intro.roq) before the menu.

Disable telefrag code in GT_SINGLE_PLAYER (or all gametypes?), players may share spawn points.
		Allow players to walk through each other? or move the player when teleport in to not telefrag.

== What is wanted ==
I was reading some reviews of the 2003 series games and I decide to make a list of what people said is missing or needs in the games. Its very incomplete.

* 4-player support (lacked in the first game) --Will 64 players on LAN/internet do?...
* Good stages
* Mutant Melee had small stages
* Better attack controls

== Stages ==
Idea: have a "stages.txt" that contains.
Support up to 9 maps.

{
name = "Stage 1"
image = levelshots/stage1.png
caption = ??? // Support caption/desction about the Stage?
showareaselect = 0 // Don't show even if beat the first area.
showareaselect = 1 // default --if more then one area, and the first is beat, show area select
showareaselect = 2 // Show even if only one area or the first hasn't been beat.
map1 = sp1a1
map2 = sp1a2
map3 = sp1a3
map4 = sp1a4
}

{
name = "Stage 2"
image = levelshots/stage2.png
map1 = sp2a1
map2 = sp2a2
map3 = sp2a3
map4 = sp2a4
map5 = sp2a5
}

{
name = "Stage 3 (Beta)"
//no "image"
map1 = sp3a1
}

== External Links ==
http://xreal.sourceforge.net/

